# 术——git使用

## git是什么

如果你开始和别人一起写代码，或者在网络上看过别人写的源码，我相信你一定听说过git。

git是一个代码管理协作工具，和他类似的软件还有`svn`,不过`svn`是集中式的，git是分布式的。

git是一代宗师`linus`花了一个星期开发的分布式版本控制工具（能写出操作系统的人就是不一样），目前已经成为了主流的代码协作工具。

git是一个软件工具，我们可以用它来管理代码，管理方式又分为两种：

- `github`(已被微软收购)

  世界范围内协作，如Linux。

- `gitlab`

  公司范围内协作，如公司内部项目，需自己搭建。

`github`和`gitlab`都依赖于底层的git，git提供了一系列命令或者说操作，用于代码协作。对于这些基本操作，可以采用以下两种方式：

- 命令行
- GUI（一般是用小乌龟`TortoiseGit`）

## git使用的基本流程

1. 创建仓库或者clone仓库

   ```shell
   #在空目录下初始化仓库
   git init
   #根据远程仓库地址克隆仓库
   git clone url
   ```

2. 添加或者阅读`readme`文件

   主要是介绍项目是做什么的。

3. 添加或者阅读license文件

   主要是告诉别人需要根据什么协议使用你的代码。

4. 添加或者查看`.gitignore`文件

   主要是告诉git提交代码的时候忽略哪些文件或者目录

5. 开始进行代码编写，并每天进行代码提交

   - 增加文件
- 添加文件描述
   - push到远程仓库

6. 每次进行代码编写前，先进行代码更新

## git的工作原理

git围绕代码储存以及代码更改记录展开。涉及以下几个重要概念：

- 远程仓库

  远程仓库一般放在团队都能访问的地方，用于大家访问以及合并已经测试通过并且稳定的代码。

- 本地仓库

  本地仓库是每个开发人员开发的基础，它会和远程仓库建立联系，我们可以把本地的改动提交到远程仓库，让别人看到。也可以把别人的改动更新到本地。

- 分支

  分支是为了区分不同的改动，或者为了区分不同的功能。我们可以通过分支在同一个代码仓库中维护许多不同的版本。

- 标签

  标签为我们开发到某一个地方做下了记录，我们可以通过标签回溯到那里，然后新建一个分支继续向前演进。

- push

  每个人的本地都有一个项目副本，要把自己的改动提交上去让别人看到，就需要push。

- pull

  要想保持项目最新，同时别人的改动自己能看到，以及避免自己和别人改动发生冲突，改动前就需要pull，保证代码最新。

## git基本操作

```shell
# 同步远程仓库
git pull
#添加filename文件
git add filename
#添加提交描述
git commit -m "update"
#在当前状态添加tag1.0标签
git tag tag1.0
#创建dev分支
git branch dev
#切换到dev分支
git checkout dev
#列出所有分支
git branch -a
#显示本地仓库状态
git status
#提交本地改动记录到远程仓库
git push
```



## git团队协作基本操作

1. 找到项目所在地，`github`还是`gitlab`
2. fork项目
3. 将自己fork的项目克隆到本地
4. 新建一个分支，在该分支下进行代码更改或编写
5. 编写更改完成后，提交代码，并将新分支的代码合入，同时删除新分支
6. 在自己fork的项目里提交merge请求，等待项目拥有者合并

## 其他、

关于其他一些未明说的问题：

- git要想使用需要先下载安装，网上搜索即可，系统一般不自带
- git要想使用一般需要先配置，用户名、密码、代理啥的
- 上传`github`或`gitlab`需要先注册账号，有邮箱即可

顺带一提：

> 我们一直在做的一件事就是想尽办法将`xxx`和`xxx`区别开来，编程也是如此。